package GraphGUI;

import Graph.MyDWG;
import Graph.MyDWG_Algo;
import Graph.MyNode;
import api.EdgeData;
import api.NodeData;
import src.ex4_java_client.Agents;
import src.ex4_java_client.Pokemons;

import javax.swing.*;
import java.awt.*;
import java.awt.geom.Line2D;
import java.util.Iterator;

public class GUI extends JFrame {
    MyDWG_Algo g1;
    MyDWG_Algo og;
    Pokemons pokemons;
    Agents agents;
    public GUI(MyDWG gr, Pokemons poke, Agents agen) {
        Dimension size = Toolkit.getDefaultToolkit().getScreenSize();
        JPanel p = new JPanel(new BorderLayout());//3,1

        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        this.setLocation((size.width/2-this.getSize().width)/2, (size.height/2-this.getSize().height)/3);
        this.setTitle("Ex2-Graph-GUI");
        int width = (int) (size.width/1.2);
        int height = (int) (size.height/1.2);
        this.setSize(width , height );
        this.setResizable(true);
        GraphP gp = new GraphP(gr,poke,agen);
        this.add(gp);
        this.setVisible(true);
        this.setTitle("Ex2 - UI");



    }
    public void updateScreen(Pokemons poke,Agents agents){
        this.pokemons=poke;
        this.agents=agents;
        repaint();
    }
    public class GraphP extends JPanel {
        double minx;
        double miny;
        double maxx;
        double maxy;
        double scalefactor1 = 8;

        public GraphP(MyDWG gr,Pokemons poke,Agents agen) {
            g1 = new MyDWG_Algo();
            og = new MyDWG_Algo();
            pokemons =poke;
            agents=agen;

            g1.init(gr);
            og.init(g1.copy());
            try {
                setminxy();
            } catch (Exception e) {
                e.printStackTrace();
            }
            repaint();

        }

        public void setminxy() throws Exception {
            minx = Integer.MAX_VALUE;
            miny = Integer.MAX_VALUE;
            maxx = Integer.MIN_VALUE;
            maxy = Integer.MIN_VALUE;
            Iterator<NodeData> minxit = g1.getGraph().nodeIter();
            while (minxit.hasNext()) {
                NodeData n = minxit.next();
                if (n.getLocation().x() < minx) {
                    minx = n.getLocation().x();
                }
            }
            Iterator<NodeData> minyit = g1.getGraph().nodeIter();
            while (minyit.hasNext()) {
                NodeData m = minyit.next();
                if (m.getLocation().y() < miny) {
                    miny = m.getLocation().y();
                }
            }
            Iterator<NodeData> maxxit = g1.getGraph().nodeIter();
            while (maxxit.hasNext()) {
                NodeData n = maxxit.next();
                if (n.getLocation().x() > maxx) {
                    maxx = n.getLocation().x();
                }
            }
            Iterator<NodeData> maxyit = g1.getGraph().nodeIter();
            while (maxyit.hasNext()) {
                NodeData m = maxyit.next();
                if (m.getLocation().y() > maxy) {
                    maxy = m.getLocation().y();
                }
            }


        }

        protected void paintComponent(Graphics g) {
            super.paintComponent(g);
            double ABSx = Math.abs(minx - maxx);
            double ABSy = Math.abs(miny - maxy);
            double scalex = (getWidth() / ABSx) * 0.8;
            double scaley = (getHeight() / ABSy) * 0.8;

            MyNode prev = null;
            try {
                Graphics2D g2 = (Graphics2D) g;
                g2.setRenderingHint(RenderingHints.KEY_ANTIALIASING,
                        RenderingHints.VALUE_ANTIALIAS_ON);
                double theta;
                Iterator<NodeData> it = g1.getGraph().nodeIter();
                while (it.hasNext()) {
                    NodeData n = it.next();
                    g.setColor(new Color(11, 148, 56, 255));
                    double x = (n.getLocation().x() - minx) * scalex * 0.97 + 70;
                    double y = (n.getLocation().y() - miny) * scaley * 0.97 + 70;
                    String xs = "" + n.getLocation().x();
                    String ys = "" + n.getLocation().y();
                    String coord = "(" + xs + "," + ys + ")" + ", id:" + n.getKey();
                    g.fillOval((int) x-10, (int) y-10, 20, 20);
                    g.setColor(new Color(0, 0, 0));
                    Font f = new Font("ariel", Font.BOLD, 16);
                    g.setFont(f);
                    g.drawString(n.getKey() + "", (int) x, (int) y - 10);

                }
                Iterator<EdgeData> eiter = g1.getGraph().edgeIter();
                while (eiter.hasNext()) {
                    EdgeData e = eiter.next();
                    double srcx = (g1.getGraph().getNode(e.getSrc()).getLocation().x() - minx) * scalex*0.97 + 70;
                    double srcy = (g1.getGraph().getNode(e.getSrc()).getLocation().y() - miny) * scaley*0.97 + 70;
                    double destx = (g1.getGraph().getNode(e.getDest()).getLocation().x() - minx) * scalex*0.97 + 70;
                    double desty = (g1.getGraph().getNode(e.getDest()).getLocation().y() - miny) * scaley*0.97 + 70;
                    g.setColor(new Color(0, 0, 0));
                    int x1 = (int) srcx;
                    int y1 = (int) srcy;
                    int x2 = (int) destx;
                    int y2 = (int) desty;
                    g2.setStroke(new BasicStroke(1));
                    g2.draw(new Line2D.Double(x1, y1, x2, y2));
                    theta = Math.atan2(y2 - y1, x2 - x1);
                    g.setColor(new Color(127, 30, 30));
                    drawArrow(g2, theta, x2, y2);
                    x1 = (int) srcx + (int) (scalex / scalefactor1);
                    y1 = (int) srcy + (int) (scaley / scalefactor1);
                    x2 = (int) destx + (int) (scalex / scalefactor1);
                    y2 = (int) desty + (int) (scaley / scalefactor1);
                }
                if(pokemons!=null) {
                    Toolkit t = Toolkit.getDefaultToolkit();
                    Image im;
                    for (int i = 0; i < pokemons.GetPokeList().size(); i++) {
                        g.setColor(new Color(255, 0, 0, 255));
                        double x = (pokemons.GetPokeList().get(i).getPosition().x() - minx) * scalex * 0.97 + 70;
                        double y = (pokemons.GetPokeList().get(i).getPosition().y() - miny) * scaley * 0.97 + 70;
                        //g.fillOval((int) x - 10, (int) y - 10, 20, 20);
                        if(pokemons.GetPokeList().get(i).getType()==-1){
                            im = t.getImage("GraphGUI/bulbasour.png");
                            g.drawImage(im,(int)(x-10),(int)(y-10),40,40,this);
                        }else {
                            im = t.getImage("GraphGUI/charizard.png");
                            g.drawImage(im, (int) (x - 35), (int) (y - 35), 70, 70, this);
                        }
                    }
                    im = t.getImage("GraphGUI/pokeball.png");
                    for (int i = 0; i < agents.GetAgentList().size(); i++) {
                        g.setColor(new Color(0, 34, 255, 255));
                        double x = (agents.GetAgentList().get(i).getPos().x() - minx) * scalex * 0.97 + 70;
                        double y = (agents.GetAgentList().get(i).getPos().y() - miny) * scaley * 0.97 + 70;
                        g.drawImage(im,(int)(x-15),(int)(y-15),30,30,this);
                    }
                }
            } catch (Exception e) {
                e.printStackTrace();
            }

        }
    }

    // based on code from https://coderanch.com/t/339505/java/drawing-arrows
    private void drawArrow(Graphics2D g2, double theta, double x0, double y0) {
        double barb = 20;
        double phi = Math.PI / 6;
        double x = x0 - barb * Math.cos(theta + phi);
        double y = y0 - barb * Math.sin(theta + phi);
        g2.setStroke(new BasicStroke(3));
        g2.draw(new Line2D.Double(x0, y0, x, y));
        x = x0 - barb * Math.cos(theta - phi);
        y = y0 - barb * Math.sin(theta - phi);
        g2.draw(new Line2D.Double(x0, y0, x, y));
    }

    public static void runGUI(MyDWG gr, Pokemons p, Agents a) {
        new GUI(gr,p,a);
    }

    public static void main(String[] args){
            MyDWG_Algo alg = new MyDWG_Algo();
            String A0 ="{\"Edges\":[{\"src\":0,\"w\":1.4004465106761335,\"dest\":1},{\"src\":0,\"w\":1.4620268165085584,\"dest\":10},{\"src\":1,\"w\":1.8884659521433524,\"dest\":0},{\"src\":1,\"w\":1.7646903245689283,\"dest\":2},{\"src\":2,\"w\":1.7155926739282625,\"dest\":1},{\"src\":2,\"w\":1.1435447583365383,\"dest\":3},{\"src\":3,\"w\":1.0980094622804095,\"dest\":2},{\"src\":3,\"w\":1.4301580756736283,\"dest\":4},{\"src\":4,\"w\":1.4899867265011255,\"dest\":3},{\"src\":4,\"w\":1.9442789961315767,\"dest\":5},{\"src\":5,\"w\":1.4622464066335845,\"dest\":4},{\"src\":5,\"w\":1.160662656360925,\"dest\":6},{\"src\":6,\"w\":1.6677173820549975,\"dest\":5},{\"src\":6,\"w\":1.3968360163668776,\"dest\":7},{\"src\":7,\"w\":1.0176531013725074,\"dest\":6},{\"src\":7,\"w\":1.354895648936991,\"dest\":8},{\"src\":8,\"w\":1.6449953452844968,\"dest\":7},{\"src\":8,\"w\":1.8526880332753517,\"dest\":9},{\"src\":9,\"w\":1.4575484853801393,\"dest\":8},{\"src\":9,\"w\":1.022651770039933,\"dest\":10},{\"src\":10,\"w\":1.1761238717867548,\"dest\":0},{\"src\":10,\"w\":1.0887225789883779,\"dest\":9}],\"Nodes\":[{\"pos\":\"35.18753053591606,32.10378225882353,0.0\",\"id\":0},{\"pos\":\"35.18958953510896,32.10785303529412,0.0\",\"id\":1},{\"pos\":\"35.19341035835351,32.10610841680672,0.0\",\"id\":2},{\"pos\":\"35.197528356739305,32.1053088,0.0\",\"id\":3},{\"pos\":\"35.2016888087167,32.10601755126051,0.0\",\"id\":4},{\"pos\":\"35.20582803389831,32.10625380168067,0.0\",\"id\":5},{\"pos\":\"35.20792948668281,32.10470908739496,0.0\",\"id\":6},{\"pos\":\"35.20746249717514,32.10254648739496,0.0\",\"id\":7},{\"pos\":\"35.20319591121872,32.1031462,0.0\",\"id\":8},{\"pos\":\"35.19597880064568,32.10154696638656,0.0\",\"id\":9},{\"pos\":\"35.18910131880549,32.103618700840336,0.0\",\"id\":10}]}";
            String A1 = "{\"Edges\":[{\"src\":0,\"w\":1.3118716362419698,\"dest\":16},{\"src\":0,\"w\":1.232037506070033,\"dest\":1},{\"src\":1,\"w\":1.8635670623870366,\"dest\":0},{\"src\":1,\"w\":1.8015954015822042,\"dest\":2},{\"src\":2,\"w\":1.5784991011275615,\"dest\":1},{\"src\":2,\"w\":1.0631605142699874,\"dest\":3},{\"src\":2,\"w\":1.7938753352369698,\"dest\":6},{\"src\":3,\"w\":1.440561778177153,\"dest\":2},{\"src\":3,\"w\":1.2539385028794277,\"dest\":4},{\"src\":4,\"w\":1.8418222744214585,\"dest\":3},{\"src\":4,\"w\":1.1422264879958028,\"dest\":5},{\"src\":5,\"w\":1.5855912911662344,\"dest\":4},{\"src\":5,\"w\":1.734311926030133,\"dest\":6},{\"src\":6,\"w\":1.8474047229605628,\"dest\":2},{\"src\":6,\"w\":1.4964304236123005,\"dest\":5},{\"src\":6,\"w\":1.237565124536135,\"dest\":7},{\"src\":7,\"w\":1.5786081900467002,\"dest\":6},{\"src\":7,\"w\":1.3717352984705653,\"dest\":8},{\"src\":8,\"w\":1.2817370911337442,\"dest\":7},{\"src\":8,\"w\":1.5328553219807337,\"dest\":9},{\"src\":9,\"w\":1.9855087252581762,\"dest\":8},{\"src\":9,\"w\":1.2861739185896588,\"dest\":10},{\"src\":10,\"w\":1.5815006562559664,\"dest\":9},{\"src\":10,\"w\":1.4962204797190428,\"dest\":11},{\"src\":11,\"w\":1.3784147388591739,\"dest\":10},{\"src\":11,\"w\":1.9316059913913906,\"dest\":12},{\"src\":12,\"w\":1.0666986438224981,\"dest\":11},{\"src\":12,\"w\":1.5484109702862576,\"dest\":13},{\"src\":13,\"w\":1.823489852982211,\"dest\":12},{\"src\":13,\"w\":1.011071987085077,\"dest\":14},{\"src\":14,\"w\":1.3207562671517605,\"dest\":13},{\"src\":14,\"w\":1.118950355920981,\"dest\":15},{\"src\":15,\"w\":1.8726071511162605,\"dest\":16},{\"src\":15,\"w\":1.635946027210021,\"dest\":14},{\"src\":16,\"w\":1.4418017651347552,\"dest\":0},{\"src\":16,\"w\":1.5677693324851103,\"dest\":15}],\"Nodes\":[{\"pos\":\"35.19589389346247,32.10152879327731,0.0\",\"id\":0},{\"pos\":\"35.20319591121872,32.10318254621849,0.0\",\"id\":1},{\"pos\":\"35.20752617756255,32.1025646605042,0.0\",\"id\":2},{\"pos\":\"35.21007339305892,32.10107446554622,0.0\",\"id\":3},{\"pos\":\"35.21310882485876,32.104636394957986,0.0\",\"id\":4},{\"pos\":\"35.212111165456015,32.106235628571426,0.0\",\"id\":5},{\"pos\":\"35.20797194027441,32.104854472268904,0.0\",\"id\":6},{\"pos\":\"35.205764353510894,32.106326494117646,0.0\",\"id\":7},{\"pos\":\"35.20154022114608,32.10594485882353,0.0\",\"id\":8},{\"pos\":\"35.19805902663438,32.10525428067227,0.0\",\"id\":9},{\"pos\":\"35.197400995964486,32.10510889579832,0.0\",\"id\":10},{\"pos\":\"35.19351649233253,32.1061811092437,0.0\",\"id\":11},{\"pos\":\"35.18950462792575,32.10788938151261,0.0\",\"id\":12},{\"pos\":\"35.189568308313156,32.106617263865544,0.0\",\"id\":13},{\"pos\":\"35.18869800968523,32.104927164705884,0.0\",\"id\":14},{\"pos\":\"35.187594216303474,32.10378225882353,0.0\",\"id\":15},{\"pos\":\"35.19381366747377,32.102419275630254,0.0\",\"id\":16}]}";
            String A2 = "{\"Edges\":[{\"src\":0,\"w\":1.3118716362419698,\"dest\":16},{\"src\":0,\"w\":1.232037506070033,\"dest\":1},{\"src\":0,\"w\":0.915443564766393,\"dest\":21},{\"src\":1,\"w\":1.8635670623870366,\"dest\":0},{\"src\":1,\"w\":1.8015954015822042,\"dest\":2},{\"src\":1,\"w\":1.2579255647223926,\"dest\":26},{\"src\":2,\"w\":1.5784991011275615,\"dest\":1},{\"src\":2,\"w\":1.0631605142699874,\"dest\":3},{\"src\":2,\"w\":1.7938753352369698,\"dest\":6},{\"src\":3,\"w\":1.440561778177153,\"dest\":2},{\"src\":3,\"w\":1.2539385028794277,\"dest\":4},{\"src\":4,\"w\":1.8418222744214585,\"dest\":3},{\"src\":4,\"w\":1.1422264879958028,\"dest\":5},{\"src\":4,\"w\":1.1730460536148573,\"dest\":28},{\"src\":5,\"w\":1.5855912911662344,\"dest\":4},{\"src\":5,\"w\":1.734311926030133,\"dest\":6},{\"src\":5,\"w\":1.1029613695942861,\"dest\":28},{\"src\":6,\"w\":1.8474047229605628,\"dest\":2},{\"src\":6,\"w\":1.4964304236123005,\"dest\":5},{\"src\":6,\"w\":1.237565124536135,\"dest\":7},{\"src\":7,\"w\":1.5786081900467002,\"dest\":6},{\"src\":7,\"w\":1.3717352984705653,\"dest\":8},{\"src\":7,\"w\":1.0687354408357501,\"dest\":27},{\"src\":8,\"w\":1.2817370911337442,\"dest\":7},{\"src\":8,\"w\":1.5328553219807337,\"dest\":9},{\"src\":8,\"w\":1.025149439083266,\"dest\":25},{\"src\":8,\"w\":1.2039873817393092,\"dest\":26},{\"src\":9,\"w\":1.0350683385093797,\"dest\":23},{\"src\":9,\"w\":1.9855087252581762,\"dest\":8},{\"src\":9,\"w\":1.2861739185896588,\"dest\":10},{\"src\":10,\"w\":1.5815006562559664,\"dest\":9},{\"src\":10,\"w\":1.4962204797190428,\"dest\":11},{\"src\":11,\"w\":1.2330298625884384,\"dest\":20},{\"src\":11,\"w\":1.3784147388591739,\"dest\":10},{\"src\":11,\"w\":1.9316059913913906,\"dest\":12},{\"src\":12,\"w\":1.0666986438224981,\"dest\":11},{\"src\":12,\"w\":1.5484109702862576,\"dest\":13},{\"src\":13,\"w\":1.823489852982211,\"dest\":12},{\"src\":13,\"w\":1.011071987085077,\"dest\":14},{\"src\":13,\"w\":1.2074225999744648,\"dest\":30},{\"src\":14,\"w\":0.7167080826867309,\"dest\":17},{\"src\":14,\"w\":1.3207562671517605,\"dest\":13},{\"src\":14,\"w\":1.118950355920981,\"dest\":15},{\"src\":15,\"w\":1.8726071511162605,\"dest\":16},{\"src\":15,\"w\":1.635946027210021,\"dest\":14},{\"src\":16,\"w\":1.4418017651347552,\"dest\":0},{\"src\":16,\"w\":1.5677693324851103,\"dest\":15},{\"src\":17,\"w\":1.1057039393606207,\"dest\":18},{\"src\":17,\"w\":1.0657493401365328,\"dest\":14},{\"src\":18,\"w\":1.5681055954289413,\"dest\":17},{\"src\":18,\"w\":0.550880804160341,\"dest\":19},{\"src\":18,\"w\":1.0584450243907368,\"dest\":20},{\"src\":19,\"w\":0.6852429593105193,\"dest\":18},{\"src\":19,\"w\":1.2004731394998582,\"dest\":20},{\"src\":20,\"w\":1.4193627816078853,\"dest\":18},{\"src\":20,\"w\":0.878753604473191,\"dest\":19},{\"src\":20,\"w\":1.4195513987476474,\"dest\":11},{\"src\":20,\"w\":1.0252508738027712,\"dest\":30},{\"src\":21,\"w\":0.9532629885558567,\"dest\":0},{\"src\":21,\"w\":0.9339136351151504,\"dest\":22},{\"src\":22,\"w\":0.77503542792348,\"dest\":21},{\"src\":22,\"w\":1.0711518190132492,\"dest\":23},{\"src\":23,\"w\":1.016805672689567,\"dest\":22},{\"src\":23,\"w\":1.2304170123117533,\"dest\":24},{\"src\":23,\"w\":1.4962903880836746,\"dest\":9},{\"src\":24,\"w\":0.8356693500627063,\"dest\":23},{\"src\":24,\"w\":1.3090485093357531,\"dest\":25},{\"src\":25,\"w\":0.7216646454371419,\"dest\":8},{\"src\":25,\"w\":1.0426737796145,\"dest\":24},{\"src\":25,\"w\":0.7084860462408276,\"dest\":26},{\"src\":26,\"w\":1.0266053576264493,\"dest\":1},{\"src\":26,\"w\":1.0227987431412882,\"dest\":8},{\"src\":26,\"w\":0.5713405300617479,\"dest\":25},{\"src\":27,\"w\":0.8675447814837128,\"dest\":7},{\"src\":28,\"w\":1.249725662250064,\"dest\":4},{\"src\":28,\"w\":1.1032214727491811,\"dest\":5},{\"src\":28,\"w\":1.2961326237960644,\"dest\":29},{\"src\":29,\"w\":0.92393101248433,\"dest\":28},{\"src\":30,\"w\":1.1539640587451867,\"dest\":20},{\"src\":30,\"w\":1.001001008098316,\"dest\":13}],\"Nodes\":[{\"pos\":\"35.19589389346247,32.10152879327731,0.0\",\"id\":0},{\"pos\":\"35.20319591121872,32.10318254621849,0.0\",\"id\":1},{\"pos\":\"35.20752617756255,32.1025646605042,0.0\",\"id\":2},{\"pos\":\"35.21007339305892,32.10107446554622,0.0\",\"id\":3},{\"pos\":\"35.21310882485876,32.104636394957986,0.0\",\"id\":4},{\"pos\":\"35.212111165456015,32.106235628571426,0.0\",\"id\":5},{\"pos\":\"35.20797194027441,32.104854472268904,0.0\",\"id\":6},{\"pos\":\"35.205764353510894,32.106326494117646,0.0\",\"id\":7},{\"pos\":\"35.20154022114608,32.10594485882353,0.0\",\"id\":8},{\"pos\":\"35.19805902663438,32.10525428067227,0.0\",\"id\":9},{\"pos\":\"35.197400995964486,32.10510889579832,0.0\",\"id\":10},{\"pos\":\"35.19351649233253,32.1061811092437,0.0\",\"id\":11},{\"pos\":\"35.18950462792575,32.10788938151261,0.0\",\"id\":12},{\"pos\":\"35.189568308313156,32.106617263865544,0.0\",\"id\":13},{\"pos\":\"35.18869800968523,32.104927164705884,0.0\",\"id\":14},{\"pos\":\"35.187594216303474,32.10378225882353,0.0\",\"id\":15},{\"pos\":\"35.19381366747377,32.102419275630254,0.0\",\"id\":16},{\"pos\":\"35.18992916384181,32.1043092789916,0.0\",\"id\":17},{\"pos\":\"35.19181834866828,32.10412754789916,0.0\",\"id\":18},{\"pos\":\"35.192497606133976,32.10434562521009,0.0\",\"id\":19},{\"pos\":\"35.19188202905569,32.10579947394958,0.0\",\"id\":20},{\"pos\":\"35.19691277966102,32.10240110252101,0.0\",\"id\":21},{\"pos\":\"35.197952892655366,32.10271004537815,0.0\",\"id\":22},{\"pos\":\"35.198929325262306,32.10376408571429,0.0\",\"id\":23},{\"pos\":\"35.200160479418884,32.1041457210084,0.0\",\"id\":24},{\"pos\":\"35.201731262308314,32.104636394957986,0.0\",\"id\":25},{\"pos\":\"35.20260156093624,32.10476360672269,0.0\",\"id\":26},{\"pos\":\"35.20504264245359,32.104854472268904,0.0\",\"id\":27},{\"pos\":\"35.21143190799032,32.104854472268904,0.0\",\"id\":28},{\"pos\":\"35.210264434221145,32.103909470588235,0.0\",\"id\":29},{\"pos\":\"35.19071455528652,32.106235628571426,0.0\",\"id\":30}]}";
            String A3 = "{\"Edges\":[{\"src\":0,\"w\":1.0835435956906543,\"dest\":1},{\"src\":0,\"w\":0.3433607693232187,\"dest\":22},{\"src\":1,\"w\":1.260431259778731,\"dest\":0},{\"src\":1,\"w\":1.0123064430949418,\"dest\":2},{\"src\":2,\"w\":1.7247835531480924,\"dest\":1},{\"src\":2,\"w\":1.9578538886727144,\"dest\":3},{\"src\":2,\"w\":1.3013251948418596,\"dest\":30},{\"src\":3,\"w\":1.827752726467304,\"dest\":2},{\"src\":3,\"w\":1.9908441205772092,\"dest\":4},{\"src\":4,\"w\":1.6284986709004998,\"dest\":3},{\"src\":4,\"w\":1.1712767410444496,\"dest\":5},{\"src\":5,\"w\":1.0131908397905627,\"dest\":4},{\"src\":5,\"w\":1.9446655683736058,\"dest\":6},{\"src\":5,\"w\":1.3874752630258282,\"dest\":25},{\"src\":6,\"w\":1.560477950671761,\"dest\":5},{\"src\":6,\"w\":1.5464614947923163,\"dest\":7},{\"src\":6,\"w\":1.134232756788375,\"dest\":15},{\"src\":7,\"w\":1.4794484033472592,\"dest\":32},{\"src\":7,\"w\":1.9337075379943074,\"dest\":6},{\"src\":7,\"w\":1.7158358413722645,\"dest\":8},{\"src\":8,\"w\":1.130370301760947,\"dest\":35},{\"src\":8,\"w\":1.228339449624865,\"dest\":7},{\"src\":8,\"w\":1.2827103384274627,\"dest\":9},{\"src\":9,\"w\":1.2340510488941445,\"dest\":8},{\"src\":9,\"w\":1.3573438076507416,\"dest\":10},{\"src\":10,\"w\":0.5657504395294557,\"dest\":39},{\"src\":10,\"w\":1.867530854380139,\"dest\":9},{\"src\":10,\"w\":1.7841169947193596,\"dest\":11},{\"src\":11,\"w\":1.8878405720440825,\"dest\":10},{\"src\":11,\"w\":1.6627775783718608,\"dest\":12},{\"src\":12,\"w\":1.668568602308967,\"dest\":11},{\"src\":12,\"w\":1.3618252445279904,\"dest\":13},{\"src\":13,\"w\":1.2199921006106256,\"dest\":12},{\"src\":13,\"w\":1.8985651437927196,\"dest\":14},{\"src\":14,\"w\":1.30672526242022,\"dest\":17},{\"src\":14,\"w\":1.7334336008841222,\"dest\":13},{\"src\":14,\"w\":1.996989332206076,\"dest\":15},{\"src\":15,\"w\":1.8312618692355023,\"dest\":16},{\"src\":15,\"w\":1.32134381322386,\"dest\":6},{\"src\":15,\"w\":1.350338856626182,\"dest\":14},{\"src\":16,\"w\":1.275567351461944,\"dest\":17},{\"src\":16,\"w\":1.6032568850637063,\"dest\":19},{\"src\":16,\"w\":1.0913562448992056,\"dest\":15},{\"src\":17,\"w\":1.380583524414519,\"dest\":16},{\"src\":17,\"w\":1.895783214212016,\"dest\":18},{\"src\":17,\"w\":1.280709814240381,\"dest\":14},{\"src\":18,\"w\":1.3638435750384605,\"dest\":17},{\"src\":18,\"w\":1.5927402586330097,\"dest\":19},{\"src\":19,\"w\":1.2406524918828385,\"dest\":16},{\"src\":19,\"w\":1.809592242888764,\"dest\":18},{\"src\":19,\"w\":1.763756279531104,\"dest\":20},{\"src\":20,\"w\":1.4313420158759202,\"dest\":19},{\"src\":20,\"w\":1.1472916434588263,\"dest\":21},{\"src\":21,\"w\":1.4108678669726202,\"dest\":20},{\"src\":21,\"w\":1.8457046682315756,\"dest\":22},{\"src\":22,\"w\":0.44931229584749066,\"dest\":0},{\"src\":22,\"w\":1.7149845299642799,\"dest\":21},{\"src\":22,\"w\":1.0956665867713435,\"dest\":23},{\"src\":23,\"w\":1.20813159861614,\"dest\":22},{\"src\":23,\"w\":1.9244056090500044,\"dest\":24},{\"src\":24,\"w\":1.366805158502689,\"dest\":23},{\"src\":24,\"w\":1.9409302255351337,\"dest\":25},{\"src\":25,\"w\":1.5302621186016696,\"dest\":5},{\"src\":25,\"w\":1.526540220474201,\"dest\":24},{\"src\":25,\"w\":1.8867184054487574,\"dest\":26},{\"src\":26,\"w\":1.886708122591454,\"dest\":25},{\"src\":26,\"w\":1.5971039511349687,\"dest\":27},{\"src\":27,\"w\":1.814170129663763,\"dest\":26},{\"src\":27,\"w\":1.5757658838715223,\"dest\":28},{\"src\":28,\"w\":1.54852926169781,\"dest\":27},{\"src\":28,\"w\":1.5978560015720404,\"dest\":29},{\"src\":28,\"w\":1.531973599491279,\"dest\":30},{\"src\":29,\"w\":1.3870892671587354,\"dest\":28},{\"src\":29,\"w\":1.320315386625936,\"dest\":30},{\"src\":30,\"w\":1.4857584689137417,\"dest\":2},{\"src\":30,\"w\":1.0201144759650802,\"dest\":28},{\"src\":30,\"w\":1.1134294319752716,\"dest\":29},{\"src\":30,\"w\":1.5505858880979928,\"dest\":31},{\"src\":31,\"w\":1.3935717941599135,\"dest\":32},{\"src\":31,\"w\":1.961523838549256,\"dest\":30},{\"src\":32,\"w\":1.3524096594998078,\"dest\":33},{\"src\":32,\"w\":1.1072198955013588,\"dest\":7},{\"src\":32,\"w\":1.9566531707928996,\"dest\":31},{\"src\":33,\"w\":1.633561638256882,\"dest\":32},{\"src\":33,\"w\":1.8111759305323711,\"dest\":34},{\"src\":33,\"w\":1.097054390982287,\"dest\":35},{\"src\":34,\"w\":1.304814668643914,\"dest\":33},{\"src\":34,\"w\":1.665073852199095,\"dest\":35},{\"src\":35,\"w\":1.1355123315390185,\"dest\":33},{\"src\":35,\"w\":1.8300333272322125,\"dest\":34},{\"src\":35,\"w\":1.8365475807719966,\"dest\":36},{\"src\":35,\"w\":1.180655161883633,\"dest\":8},{\"src\":36,\"w\":1.9573831475558512,\"dest\":35},{\"src\":36,\"w\":1.1918019631569365,\"dest\":37},{\"src\":37,\"w\":1.1439761461732751,\"dest\":36},{\"src\":37,\"w\":1.1004358793841362,\"dest\":38},{\"src\":37,\"w\":0.8728663213495164,\"dest\":39},{\"src\":38,\"w\":1.493642552290904,\"dest\":37},{\"src\":38,\"w\":1.6111110787665157,\"dest\":39},{\"src\":39,\"w\":0.9832912320283205,\"dest\":37},{\"src\":39,\"w\":1.6032641568791934,\"dest\":38},{\"src\":39,\"w\":0.7421323463930005,\"dest\":10}],\"Nodes\":[{\"pos\":\"35.18750930912026,32.10374591260504,0.0\",\"id\":0},{\"pos\":\"35.18961076190476,32.10794390084033,0.0\",\"id\":1},{\"pos\":\"35.19338913155771,32.10616293613445,0.0\",\"id\":2},{\"pos\":\"35.19742222276029,32.1051815882353,0.0\",\"id\":3},{\"pos\":\"35.1988444180791,32.103727739495795,0.0\",\"id\":4},{\"pos\":\"35.19589389346247,32.1015651394958,0.0\",\"id\":5},{\"pos\":\"35.20332327199354,32.103255238655464,0.0\",\"id\":6},{\"pos\":\"35.2016888087167,32.10592668571429,0.0\",\"id\":7},{\"pos\":\"35.20574312671509,32.10625380168067,0.0\",\"id\":8},{\"pos\":\"35.20797194027441,32.10481812605042,0.0\",\"id\":9},{\"pos\":\"35.21219607263922,32.10616293613445,0.0\",\"id\":10},{\"pos\":\"35.21168662953995,32.10498168403361,0.0\",\"id\":11},{\"pos\":\"35.21315127845036,32.10427293277311,0.0\",\"id\":12},{\"pos\":\"35.21032811460856,32.10112898487395,0.0\",\"id\":13},{\"pos\":\"35.20765353833737,32.10245562184874,0.0\",\"id\":14},{\"pos\":\"35.204809147699756,32.103073507563025,0.0\",\"id\":15},{\"pos\":\"35.20459687974173,32.10154696638656,0.0\",\"id\":16},{\"pos\":\"35.20737758999193,32.101092638655466,0.0\",\"id\":17},{\"pos\":\"35.20616766263115,32.09920263529412,0.0\",\"id\":18},{\"pos\":\"35.204257251008876,32.09980234789916,0.0\",\"id\":19},{\"pos\":\"35.199353861178366,32.100474752941174,0.0\",\"id\":20},{\"pos\":\"35.19084191606134,32.10134706218487,0.0\",\"id\":21},{\"pos\":\"35.18787016464891,32.10347331596639,0.0\",\"id\":22},{\"pos\":\"35.18950462792575,32.10519976134454,0.0\",\"id\":23},{\"pos\":\"35.191924482647295,32.104200240336134,0.0\",\"id\":24},{\"pos\":\"35.195575491525425,32.10349148907563,0.0\",\"id\":25},{\"pos\":\"35.18806120581114,32.099711482352944,0.0\",\"id\":26},{\"pos\":\"35.18725458757062,32.109306884033614,0.0\",\"id\":27},{\"pos\":\"35.19483255367231,32.10943409579832,0.0\",\"id\":28},{\"pos\":\"35.19243392574657,32.10854361344538,0.0\",\"id\":29},{\"pos\":\"35.194195749798226,32.10774399663865,0.0\",\"id\":30},{\"pos\":\"35.199523675544796,32.10908880672269,0.0\",\"id\":31},{\"pos\":\"35.20115813882163,32.10750774621849,0.0\",\"id\":32},{\"pos\":\"35.20476669410815,32.108579959663864,0.0\",\"id\":33},{\"pos\":\"35.20769599192897,32.107816689075634,0.0\",\"id\":34},{\"pos\":\"35.206358703793384,32.10739870756303,0.0\",\"id\":35},{\"pos\":\"35.2099248054883,32.10759861176471,0.0\",\"id\":36},{\"pos\":\"35.21119841323648,32.10794390084033,0.0\",\"id\":37},{\"pos\":\"35.21217484584342,32.10854361344538,0.0\",\"id\":38},{\"pos\":\"35.212620608555284,32.10719880336134,0.0\",\"id\":39}]}";
            alg.loadjsonstring(A1);
            runGUI((MyDWG)alg.getGraph(),null,null);
    }
}
